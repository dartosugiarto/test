:root {
  --brand-blue: #5C80BC;
  --brand-blue-rgb: 92, 128, 188;
  --success: #3dc1d3;
  --warning: #f5cd79;
  --error: #c44569;
  --dark-base: #303952;
  --bg-primary: #f3f3f3;
  --text-primary: #303952;
  --text-secondary: rgba(48, 57, 82, 0.65);
  --text-tertiary: rgba(48, 57, 82, 0.45);
  --surface-primary: #ffffff;
  --surface-secondary: #e9e9e9;
  --surface-tertiary: #dedede;
  --separator: rgba(48, 57, 82, 0.1);
  --sp-fib-1: 3px;
  --sp-fib-2: 5px;
  --sp-fib-3: 8px;
  --sp-fib-4: 13px;
  --sp-fib-5: 21px;
  --sp-fib-6: 34px;
  --sp-fib-7: 55px;
  --radius-fib-small: 10px;
  --radius-fib-medium: 16px;
  --radius-fib-large: 26px;
  --control-h: 48px;
  --shadow-focus: 0 0 0 3px rgba(92, 128, 188, .45);
  --ease-natural: cubic-bezier(.2,.8,.2,1);
  --duration-fast: 140ms;
  --duration-natural: 220ms;
}

/* Reset */
* { box-sizing: border-box; }
html, body { margin:0; padding:0; }
body {
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
img { max-width: 100%; height: auto; display: block; }

.app-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: var(--sp-fib-5);
  background: var(--surface-primary);
  border-bottom: 1px solid var(--separator);
  position: sticky; top: 0; z-index: 50;
}
.header-left { display: flex; align-items: center; gap: var(--sp-fib-4); }
.logo { width: 40px; height: 40px; border-radius: 10px; }
.brand h1 { margin: 0; font-size: 18px; line-height: 1.2; }
.brand p { margin: 0; font-size: 12px; color: var(--text-secondary); }

.header-right { display: flex; align-items: center; gap: var(--sp-fib-3); }
.icon-btn {
  width: 40px; height: 40px; display: grid; place-items:center;
  border: 1px solid var(--separator);
  border-radius: var(--radius-fib-small);
  background: var(--surface-primary);
  cursor: pointer;
  transition: background-color var(--duration-fast), border-color var(--duration-fast), box-shadow var(--duration-fast);
}
.icon-btn:hover { background: var(--surface-secondary); }
.icon-btn:focus-visible { outline: none; border-color: var(--brand-blue); box-shadow: var(--shadow-focus); }
.icon { width: 20px; height: 20px; }

.tabbar {
  display: grid; grid-template-columns: repeat(5, 1fr);
  gap: var(--sp-fib-3);
  padding: var(--sp-fib-3) var(--sp-fib-5);
  background: var(--surface-primary);
  border-bottom: 1px solid var(--separator);
  position: sticky; top: 65px; z-index: 40;
}
.nav-item {
  display: flex;
  align-items: center;
  gap: var(--sp-fib-4);
  padding: var(--sp-fib-4);
  border-radius: var(--radius-fib-medium);
  font-size: 16px;
  font-weight: 700;
  text-decoration: none;
  color: var(--text-secondary);
  transition: background-color var(--duration-fast), color var(--duration-fast);
}
.nav-item:hover { background-color: var(--surface-secondary); color: var(--text-primary); }
.nav-item.active { background-color: rgba(var(--brand-blue-rgb), .08); color: var(--text-primary); }

main { padding: var(--sp-fib-6) var(--sp-fib-5); }

.search { display: flex; gap: var(--sp-fib-3); width: 100%; }
.search-input {
  width: 100%; height: var(--control-h); background: var(--surface-primary); border: 1px solid var(--separator);
  border-radius: var(--radius-fib-small); color: var(--text-primary); font-size: 16px;
  padding: 0 var(--sp-fib-5); font-weight: 700; transition: border-color var(--duration-fast), box-shadow var(--duration-fast);
}
.search-input:focus-visible { outline: none; border-color: var(--brand-blue); box-shadow: var(--shadow-focus); }

.toolbar {
  display: flex; gap: var(--sp-fib-4); flex-wrap: wrap;
  align-items: center; margin-bottom: var(--sp-fib-5);
}

.custom-select-wrapper { position: relative; }
.custom-select-btn {
  display: inline-flex; align-items: center; justify-content: space-between; gap: var(--sp-fib-4);
  height: var(--control-h); padding: 0 var(--sp-fib-5);
  background: var(--surface-primary); border: 1px solid var(--separator);
  border-radius: var(--radius-fib-small); color: var(--text-primary); font-size: 16px; font-weight: 700;
  text-align: left; line-height: 1; cursor: pointer; transition: border-color var(--duration-fast), box-shadow var(--duration-fast);
}
.custom-select-btn:focus-visible { outline: none; border-color: var(--brand-blue); box-shadow: var(--shadow-focus); }
.custom-select-btn .icon { transition: transform var(--duration-natural) var(--ease-natural); }
.custom-select-wrapper.open .custom-select-btn .icon { transform: rotate(180deg); }

.custom-select-options {
  position: absolute; inset: auto 0 auto 0; top: calc(100% + 8px);
  background: var(--surface-primary); border: 1px solid var(--separator); border-radius: var(--radius-fib-small);
  box-shadow: 0 10px 30px rgba(0,0,0,.06);
  padding: var(--sp-fib-3) 0; max-height: 300px; overflow: auto; z-index: 15;
}
.custom-select-option {
  padding: 10px var(--sp-fib-5); font-weight: 700; cursor: pointer;
  color: var(--text-primary); border-radius: 8px; margin: 2px var(--sp-fib-3);
}
.custom-select-option:hover, .custom-select-option.selected { background: rgba(var(--brand-blue-rgb), .08); }

.list-container { display: grid; gap: var(--sp-fib-4); }
.list { display: grid; gap: var(--sp-fib-3); }
.list-item {
  display: flex; align-items: center; justify-content: space-between;
  padding: var(--sp-fib-5);
  background: var(--surface-primary); border: 1px solid var(--separator); border-radius: var(--radius-fib-medium);
  transition: transform var(--duration-natural) var(--ease-natural), box-shadow var(--duration-natural) var(--ease-natural);
  cursor: pointer;
}
.list-item:hover { transform: translateY(-2px); box-shadow: 0 12px 30px rgba(0,0,0,.06); }
.list-item:focus-visible { outline: none; border-color: var(--brand-blue); box-shadow: var(--shadow-focus); }
.list-item .left { display: grid; gap: 6px; }
.list-item .title { font-weight: 800; }
.list-item .price { color: var(--text-secondary); font-weight: 700; }
.list-item .right .badge { padding: 6px 10px; border-radius: 999px; font-size: 12px; font-weight: 800; background: var(--surface-secondary); color: var(--text-primary); }

.total { color: var(--text-tertiary); font-size: 14px; }

.grid {
  display: grid; gap: var(--sp-fib-4);
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
}
.card {
  background: var(--surface-primary); border: 1px solid var(--separator); border-radius: var(--radius-fib-large);
  padding: var(--sp-fib-5);
  transition: transform var(--duration-natural) var(--ease-natural), box-shadow var(--duration-natural) var(--ease-natural);
}
.card.clickable { cursor: pointer; }
.card:hover { transform: translateY(-3px); box-shadow: 0 16px 40px rgba(0,0,0,.08); }
.card .title { font-weight: 800; margin-bottom: 6px; }
.card .meta { color: var(--text-secondary); font-size: 14px; }

.pagination {
  display: flex; align-items: center; justify-content: center; gap: var(--sp-fib-4); margin-top: var(--sp-fib-4);
}
.pagination-btn {
  width: 44px; height: 44px; display: grid; place-items: center;
  background: var(--surface-primary); border: 1px solid var(--separator); border-radius: 12px; cursor: pointer;
  transition: border-color var(--duration-fast), box-shadow var(--duration-fast), background-color var(--duration-fast);
}
.pagination-btn:disabled { opacity: .5; cursor: not-allowed; }
.pagination-btn:hover:not(:disabled) { background: var(--surface-secondary); }
.pagination-btn:focus-visible { outline: none; border-color: var(--brand-blue); box-shadow: var(--shadow-focus); }
.page-info { font-weight: 800; }

.account-display { display: grid; gap: var(--sp-fib-5); }
.carousel { position: relative; overflow: hidden; border-radius: var(--radius-fib-large); background: var(--surface-primary); border: 1px solid var(--separator); }
.carousel-track { display: flex; transition: transform var(--duration-natural) var(--ease-natural); }
.carousel-item { min-width: 100%; padding: var(--sp-fib-5); display: grid; place-items: center; }
.carousel-item img { max-height: 320px; border-radius: var(--radius-fib-medium); }

.carousel-btn {
  position: absolute; top: 50%; transform: translateY(-50%);
  width: 44px; height: 44px; display: grid; place-items: center;
  background: var(--surface-primary); border: 1px solid var(--separator); border-radius: 12px; cursor: pointer;
}
.carousel-btn.prev { left: 10px; }
.carousel-btn.next { right: 10px; }
.carousel-btn:focus-visible { outline: none; border-color: var(--brand-blue); box-shadow: var(--shadow-focus); }

.carousel-indicators { display: flex; gap: 8px; justify-content: center; margin-top: var(--sp-fib-3); }
.carousel-indicators .indicator {
  width: 8px; height: 8px; border-radius: 999px; background: var(--surface-tertiary); transition: transform var(--duration-fast);
}
.carousel-indicators .indicator.active { transform: scale(1.4); background: rgba(var(--brand-blue-rgb), .9); }

.account-info { background: var(--surface-primary); border: 1px solid var(--separator); border-radius: var(--radius-fib-large); padding: var(--sp-fib-5); }
.account-info .desc { color: var(--text-secondary); }
.account-status-badge { display: inline-block; padding: 6px 10px; border-radius: 999px; font-weight: 800; font-size: 12px; }
.account-status-badge.tersedia { background: rgba(48, 199, 90, .12); color: #0a7a2b; border: 1px solid rgba(48, 199, 90, .25); }
.account-status-badge.terjual { background: rgba(244, 67, 54, .12); color: #9b1c14; border: 1px solid rgba(244, 67, 54, .25); }
.price { font-size: 24px; font-weight: 900; }
.actions { display: flex; gap: var(--sp-fib-4); margin-top: var(--sp-fib-4); }
.action-btn {
  flex: 1; height: var(--control-h); border-radius: var(--radius-fib-small); font-weight: 800; cursor: pointer;
  border: 1px solid var(--separator); background: var(--surface-secondary);
  transition: background-color var(--duration-fast), border-color var(--duration-fast), box-shadow var(--duration-fast);
}
.action-btn.buy { background: rgba(var(--brand-blue-rgb), .1); border-color: rgba(var(--brand-blue-rgb), .3); }
.action-btn.offer { background: var(--surface-secondary); }
.action-btn:focus-visible { outline: none; border-color: var(--brand-blue); box-shadow: var(--shadow-focus); }

.empty { display: grid; place-items: center; padding: var(--sp-fib-6); border: 1px dashed var(--separator); border-radius: var(--radius-fib-large); background: var(--surface-primary); }
.empty .icon { width: 24px; height: 24px; }
.empty p { margin: 8px 0 0; color: var(--text-secondary); font-weight: 700; }

.skeleton-item {
  display: grid; gap: 8px; padding: var(--sp-fib-5);
  background: var(--surface-primary); border: 1px solid var(--separator); border-radius: var(--radius-fib-medium);
}
.skeleton-title, .skeleton-badge, .skeleton-text {
  background: linear-gradient(90deg, #eee, #f7f7f7, #eee); background-size: 200% 100%; animation: shimmer 1.4s infinite;
  border-radius: 8px;
}
@keyframes shimmer { 0%{background-position:200% 0} 100%{background-position:-200% 0} }

.modal-overlay {
  position: fixed; inset: 0; display: none; align-items: center; justify-content: center;
  background: rgba(0,0,0,.3); z-index: 100;
}
.modal-content {
  width: min(560px, calc(100% - 32px));
  background: var(--surface-primary);
  border: 1px solid var(--separator);
  border-radius: var(--radius-fib-large);
  box-shadow: 0 30px 80px rgba(0,0,0,.2);
  outline: none;
}
.modal-header, .modal-footer { padding: var(--sp-fib-5); border-bottom: 1px solid var(--separator); }
.modal-footer { border-top: 1px solid var(--separator); border-bottom: 0; display: flex; justify-content: flex-end; gap: var(--sp-fib-4); }
.modal-body { padding: var(--sp-fib-5); display: grid; gap: var(--sp-fib-5); }
.close-btn { width: 40px; height: 40px; display: grid; place-items:center; border-radius: var(--radius-fib-small); border: 1px solid var(--separator); background: var(--surface-primary); cursor: pointer; }
.close-btn:focus-visible { outline: none; border-color: var(--brand-blue); box-shadow: var(--shadow-focus); }
.wa-button { display: inline-flex; align-items: center; gap: 10px; padding: 12px 18px; background: rgba(var(--brand-blue-rgb), .12); color: var(--text-primary); border: 1px solid rgba(var(--brand-blue-rgb), .3); border-radius: 10px; text-decoration: none; font-weight: 800; }
.wa-button:hover { background: rgba(var(--brand-blue-rgb), .18); }

.methods { display: grid; gap: var(--sp-fib-3); }
.method { display: flex; align-items: center; gap: 10px; }
.summary { display: grid; gap: 8px; background: var(--surface-secondary); border-radius: 12px; padding: var(--sp-fib-4); }
.summary .row { display: flex; align-items: center; justify-content: space-between; }

.side-menu { position: sticky; top: 130px; display: grid; gap: var(--sp-fib-4); }
.side-menu-section { background: var(--surface-primary); border: 1px solid var(--separator); border-radius: var(--radius-fib-medium); padding: var(--sp-fib-4); }

.dark-mode {
  --bg-primary: #12131a;
  --text-primary: #e6e6eb;
  --text-secondary: rgba(230, 230, 235, 0.75);
  --text-tertiary: rgba(230, 230, 235, 0.55);
  --surface-primary: #171923;
  --surface-secondary: #1e2230;
  --surface-tertiary: #262b3c;
  --separator: rgba(230, 230, 235, 0.12);
  --shadow-focus: 0 0 0 3px rgba(92, 128, 188, .5);
}

@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition-duration: .01ms !important; scroll-behavior: auto !important; }
}

/* tambahan fokus untuk pagination agar konsisten */
.pagination-btn:focus-visible{outline:0;box-shadow:var(--shadow-focus);border-color:var(--brand-blue)}
